"use strict";(self.webpackChunktrack_your_job=self.webpackChunktrack_your_job||[]).push([[605],{9605:(v,f,c)=>{c.r(f),c.d(f,{ProfileComponent:()=>b});var d=c(177),l=c(9417),e=c(4438);function m(i,p){if(1&i){const o=e.RV6();e.qex(0),e.j41(1,"div",2)(2,"label",3),e.EFF(3,"Nouveau mot de passe"),e.k0s(),e.j41(4,"div",17)(5,"input",18),e.mxI("ngModelChange",function(t){e.eBV(o);const r=e.XpG();return e.DH7(r.newPassword,t)||(r.newPassword=t),e.Njj(t)}),e.k0s(),e.j41(6,"button",19),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.toggleNewPasswordVisibility())}),e.nrm(7,"i",12),e.k0s()()(),e.j41(8,"div",2)(9,"label",3),e.EFF(10,"Confirmer le mot de passe"),e.k0s(),e.j41(11,"div",17)(12,"input",20),e.mxI("ngModelChange",function(t){e.eBV(o);const r=e.XpG();return e.DH7(r.confirmNewPassword,t)||(r.confirmNewPassword=t),e.Njj(t)}),e.k0s(),e.j41(13,"button",19),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.toggleConfirmNewPasswordVisibility())}),e.nrm(14,"i",12),e.k0s()()(),e.bVm()}if(2&i){const o=e.XpG();e.R7$(5),e.Y8G("type",o.showNewPassword?"text":"password"),e.R50("ngModel",o.newPassword),e.R7$(2),e.AVh("fa-eye",!o.showNewPassword)("fa-eye-slash",o.showNewPassword),e.R7$(5),e.Y8G("type",o.showConfirmNewPassword?"text":"password"),e.R50("ngModel",o.confirmNewPassword),e.R7$(2),e.AVh("fa-eye",!o.showConfirmNewPassword)("fa-eye-slash",o.showConfirmNewPassword)}}let g=(()=>{class i{user;save=new e.bkB;cancel=new e.bkB;formData={};showPasswordChange=!1;newPassword="";confirmNewPassword="";showNewPassword=!1;showConfirmNewPassword=!1;ngOnChanges(o){o.user&&this.user&&(this.formData={...this.user},this.resetPasswordFields())}resetPasswordFields(){this.showPasswordChange=!1,this.newPassword="",this.confirmNewPassword="",this.showNewPassword=!1,this.showConfirmNewPassword=!1}togglePasswordChange(){this.showPasswordChange=!this.showPasswordChange,this.showPasswordChange||(this.newPassword="",this.confirmNewPassword="")}toggleNewPasswordVisibility(){this.showNewPassword=!this.showNewPassword}toggleConfirmNewPasswordVisibility(){this.showConfirmNewPassword=!this.showConfirmNewPassword}onSubmit(){if(this.showPasswordChange){if(this.newPassword&&this.newPassword!==this.confirmNewPassword)return void alert("Les mots de passe ne correspondent pas");this.newPassword&&(this.formData.password=this.newPassword)}this.save.emit(this.formData)}onCancel(){this.resetPasswordFields(),this.cancel.emit()}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.VBU({type:i,selectors:[["app-profile-form"]],inputs:{user:"user"},outputs:{save:"save",cancel:"cancel"},standalone:!0,features:[e.OA$,e.aNF],decls:34,vars:12,consts:[["profileForm","ngForm"],[1,"profile-form",3,"ngSubmit"],[1,"form-group"],[1,"form-label"],["type","text","name","firstName","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","lastName","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","title","placeholder","D\xe9veloppeur / Chef de projet",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","location","placeholder","Paris / Remote",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","full-width",2,"margin-top","10px"],["type","button",1,"btn","btn-outline",2,"width","100%","display","flex","align-items","center","justify-content","space-between",3,"click"],[1,"fa-solid","fa-lock",2,"margin-right","8px"],[1,"fa-solid"],[4,"ngIf"],[1,"form-actions"],["type","button","title","Annuler les modifications",1,"btn","btn-outline",3,"click"],["type","submit","title","Enregistrer le profil",1,"btn","btn-primary",3,"disabled"],[1,"password-input-container"],["name","newPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button","tabindex","-1","title","Afficher/Masquer le mot de passe",1,"password-toggle",3,"click"],["name","confirmNewPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","type","ngModel"]],template:function(n,t){if(1&n){const r=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(t.onSubmit())}),e.j41(2,"div",2)(3,"label",3),e.EFF(4,"Pr\xe9nom"),e.k0s(),e.j41(5,"input",4),e.mxI("ngModelChange",function(a){return e.eBV(r),e.DH7(t.formData.firstName,a)||(t.formData.firstName=a),e.Njj(a)}),e.k0s()(),e.j41(6,"div",2)(7,"label",3),e.EFF(8,"Nom"),e.k0s(),e.j41(9,"input",5),e.mxI("ngModelChange",function(a){return e.eBV(r),e.DH7(t.formData.lastName,a)||(t.formData.lastName=a),e.Njj(a)}),e.k0s()(),e.j41(10,"div",2)(11,"label",3),e.EFF(12,"Email"),e.k0s(),e.j41(13,"input",6),e.mxI("ngModelChange",function(a){return e.eBV(r),e.DH7(t.formData.email,a)||(t.formData.email=a),e.Njj(a)}),e.k0s()(),e.j41(14,"div",2)(15,"label",3),e.EFF(16,"Titre"),e.k0s(),e.j41(17,"input",7),e.mxI("ngModelChange",function(a){return e.eBV(r),e.DH7(t.formData.title,a)||(t.formData.title=a),e.Njj(a)}),e.k0s()(),e.j41(18,"div",2)(19,"label",3),e.EFF(20,"Localisation"),e.k0s(),e.j41(21,"input",8),e.mxI("ngModelChange",function(a){return e.eBV(r),e.DH7(t.formData.location,a)||(t.formData.location=a),e.Njj(a)}),e.k0s()(),e.j41(22,"div",9)(23,"button",10),e.bIt("click",function(){return e.eBV(r),e.Njj(t.togglePasswordChange())}),e.j41(24,"span"),e.nrm(25,"i",11),e.EFF(26),e.k0s(),e.nrm(27,"i",12),e.k0s()(),e.DNE(28,m,15,12,"ng-container",13),e.j41(29,"div",14)(30,"button",15),e.bIt("click",function(){return e.eBV(r),e.Njj(t.onCancel())}),e.EFF(31,"Annuler"),e.k0s(),e.j41(32,"button",16),e.EFF(33,"Enregistrer"),e.k0s()()()}if(2&n){const r=e.sdS(1);e.R7$(5),e.R50("ngModel",t.formData.firstName),e.R7$(4),e.R50("ngModel",t.formData.lastName),e.R7$(4),e.R50("ngModel",t.formData.email),e.R7$(4),e.R50("ngModel",t.formData.title),e.R7$(4),e.R50("ngModel",t.formData.location),e.R7$(5),e.SpI(" ",t.showPasswordChange?"Annuler le changement de mot de passe":"Changer le mot de passe"," "),e.R7$(),e.AVh("fa-chevron-up",t.showPasswordChange)("fa-chevron-down",!t.showPasswordChange),e.R7$(),e.Y8G("ngIf",t.showPasswordChange),e.R7$(4),e.Y8G("disabled",!r.form.valid)}},dependencies:[d.MD,d.bT,l.YN,l.qT,l.me,l.BC,l.cb,l.YS,l.Dg,l.vS,l.cV],styles:[".profile-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;flex:1 1 calc(50% - 10px);min-width:280px}.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:var(--text-color);font:600 16px Roboto,sans-serif;letter-spacing:.5px}.form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid var(--border-color);border-radius:var(--radius-sm);transition:border-color .2s;color:var(--text-color);font:16px Roboto,sans-serif;letter-spacing:.5px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #0056b31a;border:2px solid var(--primary-color)}.form-actions[_ngcontent-%COMP%]{flex:1 1 100%;display:flex;justify-content:flex-end;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:var(--radius-sm);font-weight:500;cursor:pointer;transition:all .2s;font-size:.95rem}textarea[_ngcontent-%COMP%]{resize:vertical}.password-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:40px;width:100%}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:10px;cursor:pointer;background:none;border:none;color:var(--text-color);opacity:.6;padding:0;display:flex;align-items:center;justify-content:center}.password-toggle[_ngcontent-%COMP%]:hover{opacity:1}@media (max-width: 900px){.form-group[_ngcontent-%COMP%]{flex:1 1 100%}}"]})}return i})();var u=c(8010),_=c(9879);function h(i,p){if(1&i&&(e.j41(0,"p",15),e.EFF(1),e.k0s()),2&i){const o=e.XpG();e.R7$(),e.JRh(o.user.title)}}function w(i,p){if(1&i&&(e.j41(0,"p",16),e.EFF(1),e.k0s()),2&i){const o=e.XpG();e.R7$(),e.SpI("\u{1f4cd} ",o.user.location,"")}}function P(i,p){1&i&&(e.j41(0,"div",17)(1,"div",18),e.nrm(2,"i",19),e.k0s(),e.j41(3,"h3"),e.EFF(4,"Aucune information renseign\xe9e"),e.k0s(),e.j41(5,"p"),e.EFF(6,"Pensez \xe0 compl\xe9ter votre profil."),e.k0s()())}function x(i,p){if(1&i){const o=e.RV6();e.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"h3"),e.EFF(4,"Modifier votre profil"),e.k0s(),e.j41(5,"button",23),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.closeEditModal())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"div",24)(8,"app-profile-form",25),e.bIt("save",function(t){e.eBV(o);const r=e.XpG();return e.Njj(r.onUpdateUser(t))})("cancel",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.closeEditModal())}),e.k0s()()()()}if(2&i){const o=e.XpG();e.R7$(8),e.Y8G("user",o.user)}}function C(i,p){if(1&i){const o=e.RV6();e.j41(0,"div",20)(1,"div",26)(2,"div",22)(3,"h3"),e.EFF(4,"Supprimer votre profil ?"),e.k0s(),e.j41(5,"button",23),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.cancelDelete())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"div",24)(8,"p"),e.EFF(9,"\xcates-vous s\xfbr de vouloir supprimer votre profil ? Cette action est irr\xe9versible."),e.k0s()(),e.j41(10,"div",27)(11,"button",28),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.cancelDelete())}),e.EFF(12,"Annuler"),e.k0s(),e.j41(13,"button",29),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.confirmDelete())}),e.EFF(14,"Supprimer"),e.k0s()()()()}}let b=(()=>{class i{authService;localStorageService;user={firstName:"",lastName:"",email:"",title:"",location:""};isEditing=!1;isDeleting=!1;constructor(o,n){this.authService=o,this.localStorageService=n}ngOnInit(){const o=this.authService.currentUser();if(o){const n=o.fullName.split(" ");this.user.firstName=n[0]||"",this.user.lastName=n.slice(1).join(" ")||"",this.user.email=o.email,o.title&&(this.user.title=o.title),o.location&&(this.user.location=o.location)}}toggleEdit(){this.isEditing=!this.isEditing}closeEditModal(){this.isEditing=!1}onUpdateUser(o){this.isEditing=!1,this.user={...this.user,...o};const t={fullName:`${o.firstName} ${o.lastName}`.trim(),title:o.title,location:o.location};o.password&&(t.password=o.password),this.authService.updateUserProfile(t)}toggleDelete(){this.isDeleting=!this.isDeleting}cancelDelete(){this.isDeleting=!1}confirmDelete(){this.authService.deleteUser(),this.isDeleting=!1}exportData(){const o=this.localStorageService.exportData(),n=new Blob([o],{type:"application/json"}),t=window.URL.createObjectURL(n),r=document.createElement("a");r.href=t;const s=(new Date).toISOString().split("T")[0];r.download=`track-your-job-data-${s}.json`,r.click(),window.URL.revokeObjectURL(t)}onFileSelected(o){const n=o.target.files[0];if(n){const t=new FileReader;t.onload=r=>{this.localStorageService.importData(r.target.result)?(alert("Donn\xe9es import\xe9es avec succ\xe8s ! La page va se recharger."),window.location.reload()):alert("Erreur lors de l'importation des donn\xe9es. V\xe9rifiez le format du fichier.")},t.readAsText(n)}}static \u0275fac=function(n){return new(n||i)(e.rXU(u.u),e.rXU(_.s))};static \u0275cmp=e.VBU({type:i,selectors:[["app-profile"]],standalone:!0,features:[e.aNF],decls:25,vars:9,consts:[[1,"page-header"],[1,"header-actions"],[1,"action-buttons"],["title","Modifier le profil",1,"btn","btn-outline",3,"click"],[1,"fa-solid","fa-pen"],["title","Supprimer le profil",1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-trash-can"],[1,"profile-content"],[1,"card","profile-card"],[1,"profile-avatar-section"],[1,"avatar-large"],["class","user-title",4,"ngIf"],["class","user-location",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"user-title"],[1,"user-location"],[1,"empty-state"],[1,"empty-icon"],[1,"fa-solid","fa-user"],[1,"modal-overlay"],[1,"modal-content","stepper-modal"],[1,"modal-header"],["title","Fermer",1,"close-btn",3,"click"],[1,"modal-body"],[3,"save","cancel","user"],[1,"modal-content","confirm-modal"],[1,"modal-footer"],["title","Annuler la suppression",1,"btn","btn-outline",3,"click"],["title","Confirmer la suppression",1,"btn","btn-danger",3,"click"]],template:function(n,t){1&n&&(e.j41(0,"section")(1,"div",0)(2,"h1"),e.EFF(3,"Mon Profil"),e.k0s(),e.j41(4,"div",1)(5,"div",2)(6,"button",3),e.bIt("click",function(){return t.toggleEdit()}),e.nrm(7,"i",4),e.EFF(8," Modifier "),e.k0s(),e.j41(9,"button",5),e.bIt("click",function(){return t.toggleDelete()}),e.nrm(10,"i",6),e.EFF(11," Supprimer "),e.k0s()()()(),e.j41(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10),e.EFF(16),e.k0s(),e.j41(17,"div")(18,"h3"),e.EFF(19),e.k0s(),e.DNE(20,h,2,1,"p",11)(21,w,2,1,"p",12),e.k0s()()()(),e.DNE(22,P,7,0,"div",13)(23,x,9,1,"div",14)(24,C,15,0,"div",14),e.k0s()),2&n&&(e.R7$(16),e.Lme("",t.user.firstName.charAt(0),"",t.user.lastName.charAt(0),""),e.R7$(3),e.Lme("",t.user.firstName," ",t.user.lastName,""),e.R7$(),e.Y8G("ngIf",t.user.title),e.R7$(),e.Y8G("ngIf",t.user.location),e.R7$(),e.Y8G("ngIf",""===t.user.title||""===t.user.location),e.R7$(),e.Y8G("ngIf",t.isEditing),e.R7$(),e.Y8G("ngIf",t.isDeleting))},dependencies:[d.MD,d.bT,l.YN,g],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%}section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;max-width:1000px;gap:30px;width:100%}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;width:100%}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--primary-color);margin:0;font:700 40px Roboto,sans-serif;width:fit-content;letter-spacing:.5px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.profile-content[_ngcontent-%COMP%]{width:100%}.profile-card[_ngcontent-%COMP%]{padding:40px}.profile-avatar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.avatar-large[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:var(--radius-lg);background:var(--primary-color);color:var(--surface-color);display:flex;align-items:center;justify-content:center;font-size:2.5rem;font-weight:700;text-transform:uppercase}.profile-avatar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font:700 28px Roboto,sans-serif;letter-spacing:.5px;color:var(--primary-color);text-transform:capitalize}.user-title[_ngcontent-%COMP%]{font:500 16px Roboto,sans-serif;letter-spacing:.5px;margin:5px 0;text-transform:capitalize}.user-location[_ngcontent-%COMP%]{font:16px Roboto,sans-serif;letter-spacing:.5px;margin:0;text-transform:capitalize}.profile-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1 1 calc(50% - 10px);min-width:280px}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:last-child{flex:1 1 100%}.info-section[_ngcontent-%COMP%]{margin-bottom:30px}.info-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.info-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;color:var(--primary-color);font:700 17px Roboto,sans-serif;letter-spacing:.5px}.info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font:15px Roboto,sans-serif;letter-spacing:.5px}.info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.skills-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.skill-tag[_ngcontent-%COMP%]{padding:8px 15px;background-color:var(--background-color);color:var(--primary-color);border:2px solid var(--primary-color);border-radius:20px;font-size:.9rem;font-weight:600}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;display:flex;justify-content:center;align-items:center;z-index:1000;backdrop-filter:blur(5px)}.modal-content[_ngcontent-%COMP%]{background-color:var(--background-color-popup);border-radius:var(--radius-md);width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 10px 25px #0003;border:1px solid var(--border-color);max-width:1000px}.confirm-modal[_ngcontent-%COMP%]{max-width:400px}.modal-header[_ngcontent-%COMP%]{padding:24px 30px;border-bottom:2px solid var(--primary-color);display:flex;justify-content:space-between;align-items:center;background:var(--surface-color)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-color);font-size:1.5rem;font-weight:600}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.8rem;color:var(--text-secondary);cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover{background-color:#d630311a;color:var(--danger-color);transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:flex-end;gap:10px}.btn-danger[_ngcontent-%COMP%]{background-color:var(--danger-color);color:var(--surface-color);border-radius:var(--radius-sm);cursor:pointer;font:500 14px Roboto,sans-serif;border:2px solid var(--danger-color);padding:8px 16px;display:flex;align-items:center;gap:5px;transition:all .2s ease}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.btn-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 1rem;color:var(--text-secondary);width:100%}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:30px;color:var(--primary-color);opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:5px 0;font:600 15px Roboto,sans-serif;color:var(--primary-color);letter-spacing:.5px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font:500 14px Roboto,sans-serif;letter-spacing:.5px;color:var(--text-secondary)}.profile-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font:700 22px Roboto,sans-serif;letter-spacing:.5px;color:var(--text-color)}@media (max-width: 900px){.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%}}@media (max-width: 600px){.profile-avatar-section[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}.action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}"]})}return i})()}}]);