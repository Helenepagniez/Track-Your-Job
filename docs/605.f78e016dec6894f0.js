"use strict";(self.webpackChunktrack_your_job=self.webpackChunktrack_your_job||[]).push([[605],{9605:(M,m,c)=>{c.r(m),c.d(m,{ProfileComponent:()=>C});var f=c(177),s=c(9417),e=c(4438);let d=(()=>{class a{user;save=new e.bkB;cancel=new e.bkB;formData={};ngOnChanges(n){n.user&&this.user&&(this.formData={...this.user})}onSubmit(){this.save.emit(this.formData)}onCancel(){this.cancel.emit()}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=e.VBU({type:a,selectors:[["app-profile-form"]],inputs:{user:"user"},outputs:{save:"save",cancel:"cancel"},standalone:!0,features:[e.OA$,e.aNF],decls:27,vars:6,consts:[["profileForm","ngForm"],[1,"profile-form",3,"ngSubmit"],[1,"form-group"],[1,"form-label"],["type","text","name","firstName","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","lastName","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","title","placeholder","D\xe9veloppeur / Chef de projet",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","location","placeholder","Paris / Remote",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button","title","Annuler les modifications",1,"btn","btn-outline",3,"click"],["type","submit","title","Enregistrer le profil",1,"btn","btn-primary",3,"disabled"]],template:function(o,t){if(1&o){const r=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(t.onSubmit())}),e.j41(2,"div",2)(3,"label",3),e.EFF(4,"Pr\xe9nom"),e.k0s(),e.j41(5,"input",4),e.mxI("ngModelChange",function(i){return e.eBV(r),e.DH7(t.formData.firstName,i)||(t.formData.firstName=i),e.Njj(i)}),e.k0s()(),e.j41(6,"div",2)(7,"label",3),e.EFF(8,"Nom"),e.k0s(),e.j41(9,"input",5),e.mxI("ngModelChange",function(i){return e.eBV(r),e.DH7(t.formData.lastName,i)||(t.formData.lastName=i),e.Njj(i)}),e.k0s()(),e.j41(10,"div",2)(11,"label",3),e.EFF(12,"Email"),e.k0s(),e.j41(13,"input",6),e.mxI("ngModelChange",function(i){return e.eBV(r),e.DH7(t.formData.email,i)||(t.formData.email=i),e.Njj(i)}),e.k0s()(),e.j41(14,"div",2)(15,"label",3),e.EFF(16,"Titre"),e.k0s(),e.j41(17,"input",7),e.mxI("ngModelChange",function(i){return e.eBV(r),e.DH7(t.formData.title,i)||(t.formData.title=i),e.Njj(i)}),e.k0s()(),e.j41(18,"div",2)(19,"label",3),e.EFF(20,"Localisation"),e.k0s(),e.j41(21,"input",8),e.mxI("ngModelChange",function(i){return e.eBV(r),e.DH7(t.formData.location,i)||(t.formData.location=i),e.Njj(i)}),e.k0s()(),e.j41(22,"div",9)(23,"button",10),e.bIt("click",function(){return e.eBV(r),e.Njj(t.onCancel())}),e.EFF(24,"Annuler"),e.k0s(),e.j41(25,"button",11),e.EFF(26,"Enregistrer"),e.k0s()()()}if(2&o){const r=e.sdS(1);e.R7$(5),e.R50("ngModel",t.formData.firstName),e.R7$(4),e.R50("ngModel",t.formData.lastName),e.R7$(4),e.R50("ngModel",t.formData.email),e.R7$(4),e.R50("ngModel",t.formData.title),e.R7$(4),e.R50("ngModel",t.formData.location),e.R7$(4),e.Y8G("disabled",!r.form.valid)}},dependencies:[f.MD,s.YN,s.qT,s.me,s.BC,s.cb,s.YS,s.Dg,s.vS,s.cV],styles:[".profile-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;flex:1 1 calc(50% - 10px);min-width:280px}.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:var(--text-color);font:600 16px Roboto,sans-serif;letter-spacing:.5px}.form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid var(--border-color);border-radius:var(--radius-sm);transition:border-color .2s;color:var(--text-color);font:16px Roboto,sans-serif;letter-spacing:.5px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #0056b31a;border:2px solid var(--primary-color)}.form-actions[_ngcontent-%COMP%]{flex:1 1 100%;display:flex;justify-content:flex-end;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:var(--radius-sm);font-weight:500;cursor:pointer;transition:all .2s;font-size:.95rem}textarea[_ngcontent-%COMP%]{resize:vertical}@media (max-width: 900px){.form-group[_ngcontent-%COMP%]{flex:1 1 100%}}"]})}return a})();var g=c(8010),u=c(9879);function _(a,p){if(1&a&&(e.j41(0,"p",23),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.JRh(n.user.title)}}function x(a,p){if(1&a&&(e.j41(0,"p",24),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.SpI("\u{1f4cd} ",n.user.location,"")}}function b(a,p){1&a&&(e.j41(0,"div",25)(1,"div",26),e.nrm(2,"i",27),e.k0s(),e.j41(3,"h3"),e.EFF(4,"Aucune information renseign\xe9e"),e.k0s(),e.j41(5,"p"),e.EFF(6,"Pensez \xe0 compl\xe9ter votre profil."),e.k0s()())}function h(a,p){if(1&a){const n=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"div",30)(3,"h3"),e.EFF(4,"Modifier votre profil"),e.k0s(),e.j41(5,"button",31),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.closeEditModal())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"div",32)(8,"app-profile-form",33),e.bIt("save",function(t){e.eBV(n);const r=e.XpG();return e.Njj(r.onUpdateUser(t))})("cancel",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.closeEditModal())}),e.k0s()()()()}if(2&a){const n=e.XpG();e.R7$(8),e.Y8G("user",n.user)}}function v(a,p){if(1&a){const n=e.RV6();e.j41(0,"div",28)(1,"div",34)(2,"div",30)(3,"h3"),e.EFF(4,"Supprimer votre profil ?"),e.k0s(),e.j41(5,"button",31),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.cancelDelete())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"div",32)(8,"p"),e.EFF(9,"\xcates-vous s\xfbr de vouloir supprimer votre profil ? Cette action est irr\xe9versible."),e.k0s()(),e.j41(10,"div",35)(11,"button",36),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.cancelDelete())}),e.EFF(12,"Annuler"),e.k0s(),e.j41(13,"button",37),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.confirmDelete())}),e.EFF(14,"Supprimer"),e.k0s()()()()}}let C=(()=>{class a{authService;localStorageService;user={firstName:"",lastName:"",email:"",title:"",location:""};isEditing=!1;isDeleting=!1;constructor(n,o){this.authService=n,this.localStorageService=o}ngOnInit(){const n=this.authService.currentUser();if(n){const o=n.fullName.split(" ");this.user.firstName=o[0]||"",this.user.lastName=o.slice(1).join(" ")||"",this.user.email=n.email,n.title&&(this.user.title=n.title),n.location&&(this.user.location=n.location)}}toggleEdit(){this.isEditing=!this.isEditing}closeEditModal(){this.isEditing=!1}onUpdateUser(n){this.isEditing=!1,this.user={...this.user,...n};const o=`${n.firstName} ${n.lastName}`.trim();this.authService.updateUserProfile({fullName:o,title:n.title,location:n.location})}toggleDelete(){this.isDeleting=!this.isDeleting}cancelDelete(){this.isDeleting=!1}confirmDelete(){this.authService.deleteUser(),this.isDeleting=!1}exportData(){const n=this.localStorageService.exportData(),o=new Blob([n],{type:"application/json"}),t=window.URL.createObjectURL(o),r=document.createElement("a");r.href=t;const l=(new Date).toISOString().split("T")[0];r.download=`track-your-job-data-${l}.json`,r.click(),window.URL.revokeObjectURL(t)}onFileSelected(n){const o=n.target.files[0];if(o){const t=new FileReader;t.onload=r=>{this.localStorageService.importData(r.target.result)?(alert("Donn\xe9es import\xe9es avec succ\xe8s ! La page va se recharger."),window.location.reload()):alert("Erreur lors de l'importation des donn\xe9es. V\xe9rifiez le format du fichier.")},t.readAsText(o)}}static \u0275fac=function(o){return new(o||a)(e.rXU(g.u),e.rXU(u.s))};static \u0275cmp=e.VBU({type:a,selectors:[["app-profile"]],standalone:!0,features:[e.aNF],decls:41,vars:9,consts:[["fileInput",""],[1,"page-header"],[1,"header-actions"],[1,"action-buttons"],["title","Modifier le profil",1,"btn","btn-outline",3,"click"],[1,"fa-solid","fa-pen"],["title","Supprimer le profil",1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-trash-can"],[1,"profile-content"],[1,"card","profile-card"],[1,"profile-avatar-section"],[1,"avatar-large"],["class","user-title",4,"ngIf"],["class","user-location",4,"ngIf"],["class","empty-state",4,"ngIf"],[2,"margin-bottom","1.5rem","color","var(--text-secondary)"],["title","T\xe9l\xe9charger vos donn\xe9es",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-download"],[2,"position","relative","display","inline-block"],["title","Importer des donn\xe9es",1,"btn","btn-outline",3,"click"],[1,"fa-solid","fa-upload"],["type","file","accept",".json",2,"display","none",3,"change"],["class","modal-overlay",4,"ngIf"],[1,"user-title"],[1,"user-location"],[1,"empty-state"],[1,"empty-icon"],[1,"fa-solid","fa-user"],[1,"modal-overlay"],[1,"modal-content","stepper-modal"],[1,"modal-header"],["title","Fermer",1,"close-btn",3,"click"],[1,"modal-body"],[3,"save","cancel","user"],[1,"modal-content","confirm-modal"],[1,"modal-footer"],["title","Annuler la suppression",1,"btn","btn-outline",3,"click"],["title","Confirmer la suppression",1,"btn","btn-danger",3,"click"]],template:function(o,t){if(1&o){const r=e.RV6();e.j41(0,"section")(1,"div",1)(2,"h1"),e.EFF(3,"Mon Profil"),e.k0s(),e.j41(4,"div",2)(5,"div",3)(6,"button",4),e.bIt("click",function(){return e.eBV(r),e.Njj(t.toggleEdit())}),e.nrm(7,"i",5),e.EFF(8," Modifier "),e.k0s(),e.j41(9,"button",6),e.bIt("click",function(){return e.eBV(r),e.Njj(t.toggleDelete())}),e.nrm(10,"i",7),e.EFF(11," Supprimer "),e.k0s()()()(),e.j41(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),e.EFF(16),e.k0s(),e.j41(17,"div")(18,"h3"),e.EFF(19),e.k0s(),e.DNE(20,_,2,1,"p",12)(21,x,2,1,"p",13),e.k0s()()()(),e.DNE(22,b,7,0,"div",14),e.j41(23,"div",8)(24,"div",9)(25,"h3"),e.EFF(26,"Gestion des donn\xe9es"),e.k0s(),e.j41(27,"p",15),e.EFF(28," Vous pouvez exporter vos donn\xe9es pour les sauvegarder ou les transf\xe9rer vers un autre appareil. "),e.k0s(),e.j41(29,"div",3)(30,"button",16),e.bIt("click",function(){return e.eBV(r),e.Njj(t.exportData())}),e.nrm(31,"i",17),e.EFF(32," Exporter les donn\xe9es "),e.k0s(),e.j41(33,"div",18)(34,"button",19),e.bIt("click",function(){e.eBV(r);const i=e.sdS(38);return e.Njj(i.click())}),e.nrm(35,"i",20),e.EFF(36," Importer les donn\xe9es "),e.k0s(),e.j41(37,"input",21,0),e.bIt("change",function(i){return e.eBV(r),e.Njj(t.onFileSelected(i))}),e.k0s()()()()(),e.DNE(39,h,9,1,"div",22)(40,v,15,0,"div",22),e.k0s()}2&o&&(e.R7$(16),e.Lme("",t.user.firstName.charAt(0),"",t.user.lastName.charAt(0),""),e.R7$(3),e.Lme("",t.user.firstName," ",t.user.lastName,""),e.R7$(),e.Y8G("ngIf",t.user.title),e.R7$(),e.Y8G("ngIf",t.user.location),e.R7$(),e.Y8G("ngIf",""===t.user.title||""===t.user.location),e.R7$(17),e.Y8G("ngIf",t.isEditing),e.R7$(),e.Y8G("ngIf",t.isDeleting))},dependencies:[f.MD,f.bT,s.YN,d],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%}section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;max-width:1000px;gap:30px;width:100%}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;width:100%}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--primary-color);margin:0;font:700 40px Roboto,sans-serif;width:fit-content;letter-spacing:.5px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.profile-content[_ngcontent-%COMP%]{width:100%}.profile-card[_ngcontent-%COMP%]{padding:40px}.profile-avatar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.avatar-large[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:var(--radius-lg);background:var(--primary-color);color:var(--surface-color);display:flex;align-items:center;justify-content:center;font-size:2.5rem;font-weight:700;text-transform:uppercase}.profile-avatar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font:700 28px Roboto,sans-serif;letter-spacing:.5px;color:var(--primary-color);text-transform:capitalize}.user-title[_ngcontent-%COMP%]{font:500 16px Roboto,sans-serif;letter-spacing:.5px;margin:5px 0;text-transform:capitalize}.user-location[_ngcontent-%COMP%]{font:16px Roboto,sans-serif;letter-spacing:.5px;margin:0;text-transform:capitalize}.profile-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1 1 calc(50% - 10px);min-width:280px}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:last-child{flex:1 1 100%}.info-section[_ngcontent-%COMP%]{margin-bottom:30px}.info-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.info-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;color:var(--primary-color);font:700 17px Roboto,sans-serif;letter-spacing:.5px}.info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font:15px Roboto,sans-serif;letter-spacing:.5px}.info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.skills-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.skill-tag[_ngcontent-%COMP%]{padding:8px 15px;background-color:var(--background-color);color:var(--primary-color);border:2px solid var(--primary-color);border-radius:20px;font-size:.9rem;font-weight:600}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;display:flex;justify-content:center;align-items:center;z-index:1000;backdrop-filter:blur(5px)}.modal-content[_ngcontent-%COMP%]{background-color:var(--background-color-popup);border-radius:var(--radius-md);width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 10px 25px #0003;border:1px solid var(--border-color);max-width:1000px}.confirm-modal[_ngcontent-%COMP%]{max-width:400px}.modal-header[_ngcontent-%COMP%]{padding:24px 30px;border-bottom:2px solid var(--primary-color);display:flex;justify-content:space-between;align-items:center;background:var(--surface-color)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-color);font-size:1.5rem;font-weight:600}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.8rem;color:var(--text-secondary);cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover{background-color:#d630311a;color:var(--danger-color);transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:flex-end;gap:10px}.btn-danger[_ngcontent-%COMP%]{background-color:var(--danger-color);color:var(--surface-color);border-radius:var(--radius-sm);cursor:pointer;font:500 14px Roboto,sans-serif;border:2px solid var(--danger-color);padding:8px 16px;display:flex;align-items:center;gap:5px;transition:all .2s ease}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.btn-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 1rem;color:var(--text-secondary);width:100%}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:30px;color:var(--primary-color);opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:5px 0;font:600 15px Roboto,sans-serif;color:var(--primary-color);letter-spacing:.5px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font:500 14px Roboto,sans-serif;letter-spacing:.5px;color:var(--text-secondary)}.profile-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font:700 22px Roboto,sans-serif;letter-spacing:.5px;color:var(--text-color)}@media (max-width: 900px){.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%}}@media (max-width: 600px){.profile-avatar-section[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}.action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}"]})}return a})()}}]);